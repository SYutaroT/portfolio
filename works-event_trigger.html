<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
  <meta property='og:type' content='website'>
  <meta property='og:title' content='Apeiria ポートフォリオ'>
  <meta property='og:url' content='URLが入る'>
  <meta property='og:description' content='Apeiriaのポートフォリオ'>
  <meta property="og:image" content="img/ogp.png">
  <meta name="description" content="Apeiriaのポートフォリオ" />
  <title>Apeiriaのポートフォリオ</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
  <link href="css/ress.css" media="all" rel="stylesheet" type="text/css" />
  <link href="css/style.css" media="all" rel="stylesheet" type="text/css" />
  <link rel="shortcut icon" href="img/favicon.ico" />
  <link rel=”canonical” href=”URLが入る” />
</head>

<body>
  <div class="wrapper">

    <!-- header -->
    <header class="header ">
      <div class="container">
        <h1 class="header-logo">
          <a href=".">YUTARO TAKEUCHI_TOP</a>
        </h1>
        <nav class="gnav">
          <ul class="gnav-list">
            <li class="gnav-item"><a href="./#research">RESEARCH</a></li>
            <li class="gnav-item"><a href="./#works">WORKS</a></li>
            <li class="gnav-item"><a href="./#skill">SKILL</a></li>
            <li class="gnav-item"><a href="./#about">ABOUT</a></li>
            <li class="gnav-item"><a href="./#contact">CONTACT</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <!-- /header -->

    <main class="content">

      <article class="article">
        <div class="article-container">
          <h1 class="article-title">イベントトリガ制御器(工事中)</h1>
          <div class="work-show__info flex">
            <div class="work-show__overview lt1 overview">
              <h2 class="overview_h1">OVERVIEW</h2>
            <div>
              <p class="">研究テーマ<a href="works-kenkyu.html#result">「深層展開によるイベントトリガ制御系設計」</a>において研究の理論実験のために作成したプログラムの解説</p>
            </div>
          </div>
        </div>
            <p>
              
            </p>
            <h3 class="work_h3">Git-URL</h3>
            <p><a href="https://github.com/SYutaroT/event1" target="_blank" rel="noopener">https://github.com/SYutaroT/event1</a></p>
            <h3 class="work_h3">ターゲット</h3>
            <p>学会発表</p>
            <h3 class="work_h3">担当</h3>
            
            <p>理論とプログラミング</p>
            <h3 class="work_h3">作成理由</h3>
            
            <p>私の研究テーマである「深層展開によるイベントトリガ制御の同時設計」のために作成。研究テーマについては<a href="works-kenkyu.html" class="Rink">こちら</a>
            </p>
            <div class="clearfix"></div>
            <h3 class="work_h3">目的</h3>
            <p>
            論文"Dynamic Event-Triggered Control for Nonlinear Systems: A Small-Gain Approach"から非線形連続時不変システムを2種類引用し、
            それぞれについてイベントトリガ制御器を設計する。
            </p>
            
            <div>
              <h3 class="work_h3">プログラム解説</h3>
              <p>
                このプログラムは幾つかのパーツに分かれているので、それぞれ解説していく。
              </p>
              <h4>parameter.py</h4>
              <p>
                これはその名の通り使用するパラメータを管理するプログラム。後述するプログラムはほとんどこれと直結しており、ここを書き換えるだけで一括でパラメータを変えられる。

              </p>
              <h4>DETC</h4>
              <p>
                メインとなるプログラム。これを実行することでイベントトリガ制御器に必要な4種のパラメータが訓練される。(詳しくは私の論文参照)
                実験結果はparamater.pyで指定されたパラメータに従って生成されたファイルに入れられる。
                解説はあとで
              </p>
              <h4>ETC.py</h4>
              <p>論文"Dynamic Event-Triggered Control for Nonlinear Systems: A Small-Gain Approach"で提案されたイベントトリガ制御器を再現したもの。設計パラメータがあるので機能するのはあくまでの2つのモデルでのみ</del></p>
              <h4>
                makefig.py
              </h4>
              <p>paramater.pyで指定されている実験結果ファイルにアクセスし、その実行結果から評価、作図を行う。</p>


          </div>
          <div>
            <h3 class="work_h3">DETC.pyの解説</h3>
            <p>このプログラムが肝なので詳しく解説していく。</p>
            <h4>使用するライブラリ</h4>
           <p> Pythonのプログラムは基本的にライブラリをインポートするところから始まる。ここではインポートしているライブラリの種類、目的を簡単にまとめる。</p>
           <p><h5>2～6行目</h5>まずインポートしてる「torch」はPythorchと呼ばれる機械学習用のライブラリである。「Pythorch」のなかでも、コメントされているようにニューラルネットワーク用の
「torch.nn」と最適化用の「torch.optim」を追加でインポートしている。
            5,6行目は学習スケジューラで「torch.optim」で使用される学習率を動的に変化させるための追加機能である。
           </p>
           <p><h5>7~9行目</h5>
          Pythonでよく使われるもの</p>
           <p><h5></h5></p>
           <p><h5>10~11行目</h5>
            この2つはランダムに訓練データを生成するために使用</p>
             <p><h5></h5></p>
             <p><h5>12~16行目</h5>
              これも学習率スケジューラの実装のため。様々な種類のものを試した時の名残</p>
               <p><h5></h5></p>
               
             <p><h5>17行目</h5>
              保存ファイルを生成するのに使用</p>
               <p><h5></h5></p>
               
             <p><h5>18行目</h5>
                自分で作成したparamete.pyから情報を手に入れるために使用</p>
               <p><h5></h5></p>
               
             <p><h5>19~20行目</h5>
              時間をはかるためのライブラリと音を鳴らすためのライブラリ。どれだけの時間がかかったかを計測し、終了時に音を鳴らす。</p>
               <p><h5></h5></p>
 
             <p><h5>21~22行目</h5>
              ミニバッチ処理のためのライブラリ。「Dataset」に訓練データを入れデータセットを生成する。「DataLoder」はデータセットをミニバッチに分けランダムに取り出すことが出来る。</p>
               <p><h5></h5></p>
                             
           <div class="code-container">
            <div class="line-numbers">
              <br>
              <span>1</span>
              <span>2</span>
              <span>3</span>
              <span>4</span>
              <span>5</span>
              <span>6</span>
              <span>7</span>
              <span>8</span>
              <span>9</span>
              <span>10</span>
              <span>11</span>
              <span>12</span>
              <span>13</span>
              <span>14</span>
              <span>15</span>
              <span>16</span>
              <span>17</span>
              <span>18</span>
              <span>19</span>
              <span>20</span>
              <span>21</span>

            </div>
            <pre class="code">
              <code class="python">
                # ライブラリのインポート
                import torch  # 機械学習用のライブラリ
                import torch.nn as nn  # ニューラルネットワーク構築
                import torch.optim as optim  # 最適化
                from torch.optim.lr_scheduler import StepLR  # 学習率調整
                from torch.optim.lr_scheduler import CosineAnnealingLR  # 学習率調整
                import numpy as np  # 計算用のライブラリ
                import matplotlib.pyplot as plt  # グラフのプロット
                import copy  # コピー
                from random import randrange  # ランダム
                from scipy.stats import beta  # ベータ分布
                from torch.optim.lr_scheduler import CosineAnnealingWarmRestarts
                from torch.optim.lr_scheduler import CosineAnnealingLR
                from torch.optim.lr_scheduler import _LRScheduler
                from torch.optim.lr_scheduler import LambdaLR
                import os
                import parameter
                import time
                import winsound
                from torch.utils.data import Dataset
                from torch.utils.data import DataLoader
              </code>
            </pre>
          </div>
        <h4>保存と乱数の固定</h4>
        <p><h5>24行目</h5>時間の計測の開始。プログラムの動作時間を計測</p>
        <p><h5>26~34行目</h5>paramater.pyから保存ファイル名を入手し、保存ファイルを生成(あるなら何もしない)。</p>
        <p><h5>25~37行目</h5>シード値を固定して再現性を確保する。</p>

        <div class="code-container">
          <div class="line-numbers">
            <br>
            <span>24</span>
            <span>25</span>
            <span>26</span>
            <span>27</span>
            <span>28</span>
            <span>29</span>
            <span>30</span>
            <span>31</span>
            <span>32</span>
            <span>33</span>
            <span>34</span>
            <span>35</span>
            <span>36</span>
            <span>37</span>

          </div>
          <pre class="code">
            <code class="python">
              start_time = time.time()
              # ?----------------------------------------------------------------保存
              path = parameter.Folder+parameter.Dt
              directory = os.path.dirname(path)
              
              # ディレクトリが存在しない場合、作成する
              if not os.path.exists(directory):
                  os.makedirs(directory)
              # ?----------------------------------------------------------------乱数固定
              
              
              def seedinit(seed):
                  torch.manual_seed(int(seed))
                  np.random.seed(seed)
            </code>
          </pre>
        </div>
<h3 class="work_h3">動作結果</h3>
<p>論文参照。結論だけ言えば既存手法より更新回数、評価関数の値ともに減少させることができた。</p>

</div>

          <div class="home-link">
            <a href="./#works">Works一覧へ</a>
          </div>
        </div>
      </article>

      <div class="page-top" id="js-page-top">
        <span class="material-icons-outlined">expand_less</span>
      </div>
    </main>

    <!-- footer -->
    <footer class="footer">
      <div class="copyright">&copy;YUTARO TAKEUHCI</div>
    </footer>
    <!-- /footer -->

  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type='text/javascript' src="js/script.js"></script>
</body>
</html>